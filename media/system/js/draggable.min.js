"use strict";document.addEventListener("DOMContentLoaded",function(){var a,b,c,d=document.querySelector(".js-draggable");if(d)a=d.getAttribute("data-url"),c=d.getAttribute("data-direction"),b=".js-form";else if(Joomla.getOptions("draggable-list")){var e=Joomla.getOptions("draggable-list");d=document.querySelector(e.id),d.classList.contains("js-draggable")||d.classList.add("js-draggable"),a=e.url,b=e.formId,c=e.direction}if(d){document.addEventListener("touchstart",function(){},!1);var f=dragula([d],{direction:"vertical",copy:!1,copySortSource:!1,revertOnSpill:!0,removeOnSpill:!1}),g=function(a,b){var c,d,e=[],f=a.querySelectorAll('input[name="order[]"]'),g=a.querySelectorAll('[name="cid[]"]');for("desc"===b&&(f=Array.prototype.slice.call(f),g=Array.prototype.slice.call(g),f.reverse(),g.reverse()),c=0,d=f.length;d>c;c++)f[c].value=c,e.push("order[]="+encodeURIComponent(c));for(c=0,d=g.length;d>c;c++)e.push("cid[]="+encodeURIComponent(g[c].value));return e};f.on("drop",function(){if(a){var b=document.querySelector('[name="task"]');b&&b.setAttribute("name","some__Temporary__Name__");var e={url:a,method:"POST",data:g(d,c).join("&"),perform:!0};Joomla.request(e),b&&b.setAttribute("name","task")}})}});