"use strict";document.addEventListener("DOMContentLoaded",function(){if(Joomla.getOptions("draggable-list")){var a=Joomla.getOptions("draggable-list");console.log(a.direction),document.addEventListener("touchstart",function(){},!1),document.querySelector(a.id).classList.contains("js-draggable")||document.querySelector(a.id).classList.add("js-draggable");var b=document.querySelector(".js-draggable");if(b){var c=a.url,d=a.formId,e=dragula([b],{direction:"vertical",copy:!1,copySortSource:!1,revertOnSpill:!0,removeOnSpill:!1}),f=function(a,b){var c=[],d=a.querySelectorAll('input[name="order[]"]');if("desc"===b){var d=Array.prototype.slice.call(d);d.reverse()}for(var e=0,f=d.length;f>e;e++)d[e].value=e,c.push("order[]="+encodeURIComponent(e));return c},g=function(a,b){var c,d,e=a.querySelectorAll('[name="cid[]"]');for(c=0,d=e.length;d>c;c++)b.push("cid[]="+encodeURIComponent(e[c].value));return b};e.on("drop",function(e){if(c){var h=document.querySelector("#"+d),i=document.querySelector('[name="task"]');i&&i.setAttribute("name","some__Temporary__Name__");var j=f(b,a.direction);j=g(h,j);var k={url:c,method:"POST",data:j.join("&"),perform:!0};Joomla.request(k),i&&i.setAttribute("name","task")}})}}});