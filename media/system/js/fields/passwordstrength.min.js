"use strict";var PasswordStrength;PasswordStrength=function(){function a(a){this.lowercase=a.lowercase||1,this.uppercase=a.uppercase||1,this.numbers=a.numbers||1,this.special=a.special||1,this.length=a.length||8}return a.prototype.getScore=function(a){var b;return b=0,b+=this.calc(a,/[a-z]/g,this.lowercase),b+=this.calc(a,/[A-Z]/g,this.uppercase),b+=this.calc(a,/[0-9]/g,this.numbers),b+=this.calc(a,/[\$\!\#\?\=\;\:\*\-\_\€\%\&\(\)\`\´]/g,this.special),b+=a.length>this.length?20:20/this.length*a.length},a.prototype.calc=function(a,b,c){var d;return d=a.match(b),d&&d.length>c?20:d?20/c*d.length:0},a}(),document.addEventListener("DOMContentLoaded",function(){for(var a=function(a){var b=a.getAttribute("data-min-length"),c=a.getAttribute("data-min-integers"),d=a.getAttribute("data-min-symbols"),e=a.getAttribute("data-min-uppercase"),f=a.getAttribute("data-min-lowercase"),g=a.parentNode.querySelector("progress"),h=new PasswordStrength({lowercase:f?f:0,uppercase:e?e:0,numbers:c?c:0,special:d?d:0,length:b?b:4}),i=h.getScore(a.value),j=g.getAttribute("aria-describedby").replace(/^\D+/g,""),k=a.parentNode.querySelector("#password-"+j);i>79&&(g.setAttribute("class","progress progress-warning"),k.innerHTML=Joomla.JText._("JFIELD_PASSWORD_INDICATE_VSTRONG")),i>64&&i<80&&(g.setAttribute("class","progress progress-warning"),k.innerHTML=Joomla.JText._("JFIELD_PASSWORD_INDICATE_STRONG")),i>50&&i<65&&(g.setAttribute("class","progress progress-warning"),k.innerHTML=Joomla.JText._("JFIELD_PASSWORD_INDICATE_NORMAL")),i>40&&i<51&&(g.setAttribute("class","progress progress-warning"),k.innerHTML=Joomla.JText._("JFIELD_PASSWORD_INDICATE_MEDIUM")),i<41&&(g.setAttribute("class","progress progress-danger"),k.innerHTML=Joomla.JText._("JFIELD_PASSWORD_INDICATE_WEAK")),100===i&&g.setAttribute("class","progress progress-success"),g.value=i,a.value.length||(g.setAttribute("class","progress"),k.innerHTML="",a.setAttribute("required",""))},b=document.querySelectorAll(".js-password-strength"),c=0,d=b.length;c<d;c++){var e="",f="";b[c].value.length||(e=" progress-danger",f=0);var g=document.createElement("progress");g.setAttribute("class","progress"+e),g.value=0+f,g.max=100,g.setAttribute("aria-describedby","password-"+c);var h=document.createElement("div");h.setAttribute("class","text-xs-center"),h.setAttribute("id","password-"+c),b[c].parentNode.append(h),b[c].parentNode.append(g),b[c].value.length>0&&b[c].setAttribute("required",!0),b[c].addEventListener("keyup",function(b){a(b.target)})}b[0]&&document.formvalidator.setHandler("password-strength",function(a){var b=!1,c=document.querySelectorAll(".js-password-strength"),d=c[0].getAttribute("data-min-length"),e=c[0].getAttribute("data-min-integers"),f=c[0].getAttribute("data-min-symbols"),g=c[0].getAttribute("data-min-uppercase"),h=c[0].getAttribute("data-min-lowercase"),i=new PasswordStrength({lowercase:h?h:0,uppercase:g?g:0,numbers:e?e:0,special:f?f:0,length:d?d:4}),j=i.getScore(a);return 100===j&&(b=!0),b})});