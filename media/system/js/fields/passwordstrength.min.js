var PasswordStrength;PasswordStrength=function(){function a(a){this.lowercase=a.lowercase||1,this.uppercase=a.uppercase||1,this.numbers=a.numbers||1,this.special=a.special||1,this.length=a.length||8}return a.prototype.getScore=function(a){var b;return b=0,b+=this.calc(a,/[a-z]/g,this.lowercase),b+=this.calc(a,/[A-Z]/g,this.uppercase),b+=this.calc(a,/[0-9]/g,this.numbers),b+=this.calc(a,/[\$\!\#\?\=\;\:\*\-\_\€\%\&\(\)\`\´]/g,this.special),b+=a.length>this.length?20:20/this.length*a.length},a.prototype.calc=function(a,b,c){var d;return d=a.match(b),d&&d.length>c?20:d?20/c*d.length:0},a}(),document.addEventListener("DOMContentLoaded",function(){for(var a=document.querySelectorAll(".js-password-strength"),b=0,c=a.length;b<c;b++){var d="",e="";a[b].value.length||(d=" progress-danger",e=100);var f=document.createElement("progress");f.setAttribute("class","progress"+d),f.value=0+e,f.max=100,f.style.height="2em",f.setAttribute("aria-describedby","password-"+b);var g=document.createElement("div");g.setAttribute("class","text-xs-center"),g.setAttribute("id","password-"+b),a[b].parentNode.append(g),a[b].parentNode.append(f),a[b].addEventListener("keyup",function(a){var b=a.target.getAttribute("data-min-length"),c=a.target.getAttribute("data-min-integers"),d=a.target.getAttribute("data-min-symbols"),e=a.target.getAttribute("data-min-uppercase"),f=a.target.getAttribute("data-min-lowercase"),g=new PasswordStrength({lowercase:f?f:0,uppercase:e?e:0,numbers:c?c:0,special:d?d:0,length:b?b:4}),h=g.getScore(a.target.value),i=a.target.parentNode.querySelector("progress"),j=i.getAttribute("aria-describedby").replace(/^\D+/g,""),k=a.target.parentNode.querySelector("#password-"+j);h>79&&(i.setAttribute("class","progress progress-success"),k.innerHTML=Joomla.JText._("JFIELD_PASSWORD_INDICATE_VSTRONG")),h>64&&h<80&&(i.setAttribute("class","progress progress-success"),k.innerHTML=Joomla.JText._("JFIELD_PASSWORD_INDICATE_STRONG")),h>50&&h<65&&(i.setAttribute("class","progress progress-info"),k.innerHTML=Joomla.JText._("JFIELD_PASSWORD_INDICATE_NORMAL")),h>40&&h<51&&(i.setAttribute("class","progress progress-warning"),k.innerHTML=Joomla.JText._("JFIELD_PASSWORD_INDICATE_MEDIUM")),h<41&&(i.setAttribute("class","progress progress-danger"),k.innerHTML=Joomla.JText._("JFIELD_PASSWORD_INDICATE_WEAK")),i.value=h})}document.formvalidator.setHandler("meterPassword",function(a){var b=!1,c=document.querySelectorAll(".js-password-strength"),d=c[0].getAttribute("data-min-length"),e=c[0].getAttribute("data-min-integers"),f=c[0].getAttribute("data-min-symbols"),g=c[0].getAttribute("data-min-uppercase"),h=c[0].getAttribute("data-min-lowercase"),i=new PasswordStrength({lowercase:h?h:0,uppercase:g?g:0,numbers:e?e:0,special:f?f:0,length:d?d:4}),j=i.getScore(a);return console.log(j),j>60&&(b=!0),b})});