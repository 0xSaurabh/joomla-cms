var JFormValidator=function(){"use strict";var a,b,c,d=function(b,c,d){d=""===d||d,a[b]={enabled:d,exec:c}},e=function(a,b){var c;return!!a&&(c=b.querySelector('label[for="'+a+'"]'),!!c.length&&c)},f=function(a,b){var c=b.getAttribute("data-label");void 0===c&&(c=e(b.id,b[0].form),b.setAttribute("data-label",c)),a===!1?(b.classList.add("invalid").setAttribute("aria-invalid","true"),c&&c.classList.add("invalid")):(b.classList.remove("invalid").setAttribute("aria-invalid","false"),c&&c.classList.remove("invalid"))},g=function(b){var c,d;if(b.getAttribute("disabled"))return f(!0,b),!0;if(b.getAttribute("required")||b.classList.contains("required"))if(c=b.hasOwnProperty("tagName").toLowerCase(),"fieldset"===c&&(b.classList.contains("radio")||b.classList.contains("checkboxes"))){if(!b.querySelector("input:checked").length)return f(!1,b),!1}else if(!b.value||b.classList.contains("placeholder")||"checkbox"===b.getAttribute("type")&&!b.checked)return f(!1,b),!1;return d=b.getAttribute("class")&&b.getAttribute("class").match(/validate-([a-zA-Z0-9\_\-]+)/)?b.getAttribute("class").match(/validate-([a-zA-Z0-9\_\-]+)/)[1]:"",""===d?(f(!0,b),!0):d&&"none"!==d&&a[d]&&b.val()&&a[d].exec(b.value,b)!==!0?(f(!1,b),!1):(f(!0,b),!0)},h=function(a){var b,e,f,h,j,k,d=!0,i=[];for(b=a.querySelectorAll("input, textarea, select, fieldset"),j=0,k=b.length;j<k;j++)b[j].classList.contains("novalidate")||g(b[j])===!1&&(d=!1,i.push(b[j]));if(c.forEach(function(a,b){b.exec()!==!0&&(d=!1)}),!d&&i.length>0){for(e=Joomla.JText._("JLIB_FORM_FIELD_INVALID"),f={error:[]},j=i.length-1;j>=0;j--)h=i[j].setAttribute("data-label"),h&&f.error.push(e+h.innerHTML.replace("*",""));Joomla.renderMessages(f)}return d},i=function(a){var d,c=[];d=a.querySelectorAll("input, textarea, select, fieldset, button");for(var e=0,f=d.length;e<f;e++){var i=d[e],j=i.hasOwnProperty("tagName").toLowerCase();"input"!==j&&"button"!==j||"submit"!==i.getAttribute("type")&&"image"!==i.getAttribute("type")?"button"===j||"input"===j&&"button"===i.getAttribute("type")||(i.classList.contains("required")&&i.setAttribute("aria-required","true").setAttribute("required","required"),"fieldset"!==j&&(i.addEventListener("blur",function(){return g(this)}),i.classList.contains("validate-email")&&b&&d[e].setAttribute("type","email")),c.push(i)):i.classList.contains("validate")&&i.addEventListener("click",function(){return h(a)})}a.data("inputfields",c)},j=function(){a={},c=c||{},b=function(){var a=document.createElement("input");return a.setAttribute("type","email"),"text"!==a.type}(),d("username",function(a,b){var c=new RegExp("[<|>|\"|'|%|;|(|)|&]","i");return!c.test(a)}),d("password",function(a,b){var c=/^\S[\S ]{2,98}\S/;return c.test(a)}),d("numeric",function(a,b){var c=/^(\d|-)?(\d|,)*\.?\d*/;return c.test(a)}),d("email",function(a,b){a=punycode.toASCII(a);var c=/^[a-zA-Z0-9.!#%&â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*/;return c.test(a)});for(var e=document.querySelectorAll("form.form-validate"),f=0,g=e.length;f<g;f++)i(e[f])};return j(),{isValid:h,validate:g,setHandler:d,attachToForm:i,custom:c}};document.formvalidator=null,document.addEventListener("onDOMContentLoaded",function(){document.formvalidator=new JFormValidator});