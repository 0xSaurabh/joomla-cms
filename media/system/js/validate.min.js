var JFormValidator=function(){"use strict";var a,b,c,d=function(b,c,d){d=""===d||d,a[b]={enabled:d,exec:c}},e=function(a,b){var c,d=jQuery(b);return!!a&&(c=d.find("#"+a+"-lbl"),c.length?c:(c=d.find('label[for="'+a+'"]'),!!c.length&&c))},f=function(a,b){var c=b.data("label");void 0===c&&(c=e(b.attr("id"),b.get(0).form),b.data("label",c)),a===!1?(b.addClass("invalid").attr("aria-invalid","true"),c&&c.addClass("invalid")):(b.removeClass("invalid").attr("aria-invalid","false"),c&&c.removeClass("invalid"))},g=function(b){var c,d,e=jQuery(b);if(e.attr("disabled"))return f(!0,e),!0;if(e.attr("required")||e.hasClass("required"))if(c=e.prop("tagName").toLowerCase(),"fieldset"===c&&(e.hasClass("radio")||e.hasClass("checkboxes"))){if(!e.find("input:checked").length)return f(!1,e),!1}else if(!e.val()||e.hasClass("placeholder")||"checkbox"===e.attr("type")&&!e.is(":checked"))return f(!1,e),!1;return d=e.attr("class")&&e.attr("class").match(/validate-([a-zA-Z0-9\_\-]+)/)?e.attr("class").match(/validate-([a-zA-Z0-9\_\-]+)/)[1]:"",""===d?(f(!0,e),!0):d&&"none"!==d&&a[d]&&e.val()&&a[d].exec(e.val(),e)!==!0?(f(!1,e),!1):(f(!0,e),!0)},h=function(a){var b,d,e,f,h,i,j=!0,k=[];for(b=jQuery(a).find("input, textarea, select, fieldset"),h=0,i=b.length;h<i;h++)jQuery(b[h]).hasClass("novalidate")||g(b[h])===!1&&(j=!1,k.push(b[h]));if(jQuery.each(c,function(a,b){b.exec()!==!0&&(j=!1)}),!j&&k.length>0){for(d=Joomla.JText._("JLIB_FORM_FIELD_INVALID"),e={error:[]},h=k.length-1;h>=0;h--)f=jQuery(k[h]).data("label"),f&&e.error.push(d+f.text().replace("*",""));Joomla.renderMessages(e)}return j},i=function(a){var c,d=[],e=jQuery(a);c=e.find("input, textarea, select, fieldset, button");for(var f=0,i=c.length;f<i;f++){var j=jQuery(c[f]),k=j.prop("tagName").toLowerCase();"input"!==k&&"button"!==k||"submit"!==j.attr("type")&&"image"!==j.attr("type")?"button"===k||"input"===k&&"button"===j.attr("type")||(j.hasClass("required")&&j.attr("aria-required","true").attr("required","required"),"fieldset"!==k&&(j.on("blur",function(){return g(this)}),j.hasClass("validate-email")&&b&&c[f].setAttribute("type","email")),d.push(j)):j.hasClass("validate")&&j.on("click",function(){return h(a)})}e.data("inputfields",d)},j=function(){a={},c=c||{},b=function(){var a=document.createElement("input");return a.setAttribute("type","email"),"text"!==a.type}(),d("username",function(a,b){var c=new RegExp("[<|>|\"|'|%|;|(|)|&]","i");return!c.test(a)}),d("password",function(a,b){var c=/^\S[\S ]{2,98}\S$/;return c.test(a)}),d("numeric",function(a,b){var c=/^(\d|-)?(\d|,)*\.?\d*$/;return c.test(a)}),d("email",function(a,b){a=punycode.toASCII(a);var c=/^[a-zA-Z0-9.!#$%&â€™*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;return c.test(a)});for(var e=jQuery("form.form-validate"),f=0,g=e.length;f<g;f++)i(e[f])};return j(),{isValid:h,validate:g,setHandler:d,attachToForm:i,custom:c}};document.formvalidator=null,jQuery(function(){document.formvalidator=new JFormValidator});